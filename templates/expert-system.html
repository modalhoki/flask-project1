{% extends 'base.html' %}

{% block head %}
    <title>expert system</title>
{% endblock %}

{% block body %}
<h1>Heart Failure Expert System</h1>
<hr>

<div class="explaination d-flex flex-column">
    <span class="part">
        <b>Explanation</b><br>
        <!-- <hr> -->
        Heart Failure Expert System is a program that utilizes "2022 AHA/ACC/HFSA Guideline for the Management of Heart Failure" as its 
        knowledge base to aid cardiologists in the treatment and management of heart failure. 
        It offers personalized recommendations based on patient data and assists doctors in making well-informed decisions.
        It is expected to provide ease in making decisions for the management of heart failure patients.
    </span>

    <span class="part">
        <b>Knowledge Base</b>
        <br>
        2022 AHA/ACC/HFSA Guideline for the Management of Heart Failure: A Report of the American College of Cardiology/American Heart Association Joint Committee on Clinical Practice Guidelines.
    </span>

    <span class="part">
        <b>Limitation</b>
        <ol>
            <li>The input fields doesn't have any validation, allowing contradictory values to be entered.</li>
            <li>Incomplete information about the patient may result in recommendations that are not appropriate.</li>
            <li>Currently, the system is unable to save any input and output.</li>
        </ol>
    </span>

</div>




<div class="container-fluid patient-form">
    <h2>Patient Data</h2>
    <hr>
    <form action="/expert_system" method="POST" enctype="multipart/form-data">
        <span>Evidence and Diagnose</span>
        <div class="container-md">
            <select class="js-example-basic-multiple form-control form-control-lg" name="selected_evident" multiple="multiple" >
                {% for i in range(total_eveident_selection) %}
                    <option value="{{ eveident_selection_value[i] }}"
                         {% if eveident_selection_value[i] == ps_patient_diagnoses%}
                                selected="selected"
                        {% endif %}
                    >{{ eveident_selection_desc[i] }}</option>
                {% endfor %}
            </select>
        </div>

        <span>History</span>
        <div class="container-md">
            <select class="js-example-basic-multiple form-control form-control-lg" name="selected_history" multiple="multiple" >
                 {% for i in range(total_history_selection) %}
                    <option value="{{ history_selection_value[i] }}">{{ history_selection_desc[i] }}</option>
                {% endfor %}
            </select>
        </div>

        <span>Intolerant</span>
        <div class="container-md">
            <select class="js-example-basic-multiple form-control form-control-lg" name="selected_intolerance" multiple="multiple" >
                 {% for i in range(total_intolearant_selection) %}
                    <option value="{{ intolearant_selection_value[i] }}">{{ intolearant_selection_desc[i] }}</option>
                {% endfor %}
            </select>
        </div>

        <span>Sex</span>
        <div class="container-md">

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="selected_sex" id="inlineRadio1" value="male"
                       {% if ps_patient_sex == 'male' %}
                                checked
                       {% endif %}
                >
                <label class="form-check-label" for="inlineRadio1">Male</label>
            </div>

            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="selected_sex" id="inlineRadio2" value="female"
                    {% if ps_patient_sex == 'female' %}
                                checked
                    {% endif %}
                >
                <label class="form-check-label" for="inlineRadio2">Female</label>
            </div>
        </div>
        <br><br>

        <h2>Measurement</h2>
        <span class="part">
            <b>Non - Mandatory</b><br>
            The measurements field below are not mandatory, but highly suggested for the accuracy of the recommendations. <br>
            Note: Please use a period (.) if the number is in decimal form. (e.g, 4.1)
        </span>
        <hr>


        <div class="container-md">
            {% for i in range(total_measurement) %}
                <div class="form-group">
                    <div class="row">
                        <div class="col-3">
                            <label class="measurement_input" for="{{ measurement_value[i] }}">{{ measurement_desc[i] }}</label>
                        </div>
                        <div class="col-9">
                            <div class="input-group mb-3">
                                <input class="form-control form-control-md" type="text" placeholder="" name="{{ measurement_value[i] }}">
                                <div class="input-group-append">
                                    <span class="input-group-text">{{ measurement_unit[i] }}</span>
                                </div>
                            </div>


                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>

        <br>
        <input type="submit" value="submit" class="btn btn-primary">
        <br>
        <br>
    </form>
</div>

{% endblock %}

{% block js %}
        <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
        <script src="{{url_for('static', filename='js/main.js')}}"></script>
{% endblock %}